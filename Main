local Rayfield = loadstring(game:HttpGet('https://raw.githubusercontent.com/UI-Interface/CustomFIeld/main/RayField.lua'))()

local Window = Rayfield:CreateWindow({
   Name = "Unwavering Soul",
   LoadingTitle = "Smyw guys",
   LoadingSubtitle = "by Greck",
   ConfigurationSaving = {
      Enabled = true,
      FolderName = "Deltale Hub", -- Create a custom folder for your hub/game
      FileName = "Deltale Hub"
   },
   Discord = {
      Enabled = false,
      Invite = "sirius", -- The Discord invite code, do not include discord.gg/
      RememberJoins = true -- Set this to false to make them join the discord every time they load it up
   },
   KeySystem = false, -- Set this to true to use our key system
   KeySettings = {
      Title = "Sirius Hub",
      Subtitle = "Key System",
      Note = "Join the discord (discord.gg/sirius)",
      FileName = "SiriusKey",
      SaveKey = true,
      GrabKeyFromSite = false, -- If this is true, set Key below to the RAW site you would like Rayfield to get the key from
      Key = "Hello"
   }
})

local Players = game:GetService("Players")
local player = Players.LocalPlayer

local ToggleRunning = false
local LoopThread

local function enlargeBossTorsos(slot)
    local bosses = slot:FindFirstChild("Bosses")
    if not bosses then return end

    local bossModel = bosses:FindFirstChild("1")
    if not bossModel then return end

    for _, boss in ipairs(bossModel:GetChildren()) do
        local torso = boss:FindFirstChild("Torso")
        if torso and torso:IsA("BasePart") then
            torso.Size = Vector3.new(2048, 2048, 2048)
            torso.CanCollide = false
        end
    end
end

local function startLoop()
    LoopThread = task.spawn(function()
        while ToggleRunning do
            local activeBosses = workspace:FindFirstChild("ActiveBosses")
            if activeBosses then
                for i = 1, 12 do
                    local slot = activeBosses:FindFirstChild("Slot"..i)
                    if slot then
                        local tags = slot:FindFirstChild("Tags")
                        if tags then
                            local playerTag = tags:FindFirstChild(player.Name)
                            if playerTag and playerTag:IsA("ObjectValue") and playerTag.Value == player then
                                enlargeBossTorsos(slot)
                            end
                        end
                    end
                end
            end
            task.wait(1)
        end
    end)
end

-- Create Tab
local MainTab = Window:CreateTab("Main")

-- Add Toggle
MainTab:CreateToggle({
    Name = "Hitbox Expander",
    CurrentValue = false,
    Flag = "ToggleExpander",
    Callback = function(value)
        ToggleRunning = value
        if ToggleRunning then
            startLoop()
        else
            if LoopThread then
                task.cancel(LoopThread)
                LoopThread = nil
            end
        end
    end
})
